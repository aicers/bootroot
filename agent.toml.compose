# Bootroot Agent Docker Compose Config (Multi-Profile)

email = "admin@example.com"
server = "https://bootroot-ca:9000/acme/acme/directory"
# Format: <instance_id>.<daemon_name>.<hostname>.<domain>
domain = "trusted.domain"

[scheduler]
max_concurrent_issuances = 1

[acme]
directory_fetch_attempts = 10
directory_fetch_base_delay_secs = 1
directory_fetch_max_delay_secs = 10
poll_attempts = 15
poll_interval_secs = 2
http_responder_url = "http://bootroot-http01:8080"
http_responder_hmac = "dev-hmac"
http_responder_timeout_secs = 5
http_responder_token_ttl_secs = 300

[retry]
backoff_secs = [5, 10, 30]

[[profiles]]
daemon_name = "bootroot-agent"
instance_id = "001"
hostname = "bootroot-agent"

[profiles.paths]
cert = "/app/certs/bootroot-agent.crt"
key = "/app/certs/bootroot-agent.key"

[profiles.daemon]
check_interval = "1h"
renew_before = "720h"
check_jitter = "0s"

[profiles.retry]
backoff_secs = [5, 10, 30]
